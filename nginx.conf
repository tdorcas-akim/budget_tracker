# Main Nginx configuration for static file serving
events {
    worker_connections 1024; # Increase if you expect many concurrent connections
}

http {
    include       mime.types; # Includes common MIME types (e.g., text/html, text/css, application/javascript)
    default_type  application/octet-stream; # Fallback MIME type

    sendfile        on; # Optimize file transfers
    keepalive_timeout  65; # Timeout for keep-alive connections

    server {
        listen 80; # Nginx will listen on port 80 inside the container
        server_name localhost; # Can be your domain name or IP if applicable

        # Root directory for your static files inside the container
        # This is where your HTML, CSS, and JS files will be copied
        root /usr/share/nginx/html;

        # Define how Nginx handles requests for files and directories
        location / {
            # Try to serve the requested URI as a file, then as a directory, then return 404
            try_files $uri $uri/ =404;
        }

        # Optional: Add basic security headers for best practice
        add_header X-Frame-Options "SAMEORIGIN";
        add_header X-XSS-Protection "1; mode=block";
        add_header X-Content-Type-Options "nosniff";
        add_header Referrer-Policy "no-referrer-when-downgrade";
        # Content-Security-Policy: Adjust this carefully based on your actual script/style sources
        # For simple static sites, 'self' is often enough, but if you use external scripts/fonts,
        # you'll need to add their domains here.
        add_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self';";
    }
}